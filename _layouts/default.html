<!DOCTYPE html>
<html lang="{{ site.lang | default: "fr-FR" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title | default: site.github.repository_name }}</title>
    <meta name="description" content="{{ page.description | default: site.description | default: site.github.project_tagline }}">
    
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <style>
      /* ===================== */
      /*  Top Bar (Modern)     */
      /* ===================== */
      .site-nav {
        backdrop-filter: saturate(180%) blur(12px);
        -webkit-backdrop-filter: saturate(180%) blur(12px);
        background: rgba(255,255,255,0.85);
        border-bottom: 1px solid #e2e5e9;
        position: sticky;
        top: 0;
        z-index: 40;
        margin: 0 0 2.2rem;
      }
      .nav-inner {
        max-width: 1300px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        gap: 2.5rem;
        padding: clamp(.75rem,1.2vw,1.15rem) clamp(1.25rem,2.4vw,2.25rem);
      }
      .brand {
        display: flex;
        align-items: center;
        gap: .85rem;
        text-decoration: none;
        font-weight: 600;
        color: #111;
        letter-spacing: .5px;
      }
      .brand-logo {
        width: 44px; height: 44px; border-radius: 14px;
        background: linear-gradient(135deg,#2563eb,#1e40af);
        display: flex; align-items: center; justify-content: center;
        font-size: 18px; color: #fff; font-weight: 600;
        box-shadow: 0 4px 10px -2px rgba(30,64,175,.35);
      }
      .brand-text { font-size: 1.05rem; line-height:1.1; }
      .nav-toggle { display:none; }
      .nav-burger { display:none; cursor:pointer; padding:.5rem; border-radius:8px; }
      .nav-burger span { display:block; width:26px; height:2.5px; background:#222; margin:5px 0; transition:.35s cubic-bezier(.4,.0,.2,1); border-radius:2px; }
      .nav-links {
        display:flex; list-style:none; gap:1.75rem; margin:0; padding:0; align-items:center; flex:1;
      }
      .nav-links a {
        position:relative; text-decoration:none; font-weight:500; font-size:.95rem; color:#39424e; padding:.35rem 0; letter-spacing:.3px; transition:color .25s ease;
      }
      .nav-links a:hover { color:#0d56d6; }
      .nav-links a.active { color:#0d56d6; font-weight:600; }
      .nav-links a.active:after, .nav-links a:hover:after {
        content:""; position:absolute; left:0; bottom:-6px; height:2px; width:100%; background:#0d56d6; border-radius:2px; transform:scaleX(1); transition:transform .25s ease;
      }
      .nav-links a:after { content:""; position:absolute; left:0; bottom:-6px; height:2px; width:100%; background:#0d56d6; transform:scaleX(0); transform-origin:left; }
      .nav-links a:hover:after { transform:scaleX(1); }
      /* Compact spacing for right side if needed */
      .nav-spacer { flex:1; }
      /* Mobile */
      @media (max-width: 860px) {
        .nav-inner { gap:1rem; }
        .nav-burger { display:block; }
        .nav-links { position:fixed; inset:70px 0 auto 0; background:rgba(255,255,255,0.97); flex-direction:column; align-items:flex-start; padding:1.2rem 1.75rem 2rem; gap:1rem; border-bottom:1px solid #e2e5e9; transform:translateY(-120%); opacity:0; pointer-events:none; transition:transform .45s cubic-bezier(.4,0,.2,1), opacity .3s ease; }
        .nav-toggle:checked ~ .nav-links { transform:translateY(0); opacity:1; pointer-events:auto; }
        .nav-toggle:checked + label .line-top { transform:translateY(7.5px) rotate(45deg); }
        .nav-toggle:checked + label .line-mid { opacity:0; transform:scaleX(.4); }
        .nav-toggle:checked + label .line-bot { transform:translateY(-7.5px) rotate(-45deg); }
        .nav-burger span { width:28px; }
        .nav-burger:hover { background:#eef2f6; }
      }
      /* Reduce body top padding if large (original theme sets 50px) */
      body { scroll-padding-top:90px; }
      /* Main content width alignment */
      .main-content { max-width:1300px; margin:0 auto; padding:0 clamp(1.25rem,2.4vw,2.25rem) 2.5rem; }
    </style>
  </head>
  <body>
    
    <!-- Modern Navigation -->
    <nav class="site-nav" role="navigation" aria-label="Navigation principale">
      <div class="nav-inner">
        <a class="brand" href="{{ '/' | relative_url }}">
          <span class="brand-logo" aria-hidden="true">AG</span>
          <span class="brand-text">{{ site.short_title | default: site.title | default: site.github.repository_name }}</span>
        </a>
        <input type="checkbox" id="nav-toggle" class="nav-toggle" aria-label="Ouvrir le menu">
        <label for="nav-toggle" class="nav-burger" aria-hidden="true">
          <span class="line-top"></span>
          <span class="line-mid"></span>
          <span class="line-bot"></span>
        </label>
        <ul class="nav-links">
          {% for item in site.nav %}
          <li><a href="{{ item.url | relative_url }}" class="{% if page.url == item.url %}active{% endif %}">{{ item.title }}</a></li>
          {% endfor %}
        </ul>
      </div>
    </nav>

    <!-- Contenu principal -->
    <div class="main-content">
      {{ content }}
    </div>

    {% if site.google_analytics %}
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', '{{ site.google_analytics }}', 'auto');
        ga('send', 'pageview');
      </script>
    {% endif %}
  </body>
</html>